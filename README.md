# 디스코드 노래봇

디스코드 서버에서 음악을 재생할 수 있는 봇입니다. YouTube 링크로 음악을 재생하거나 검색 결과에서 자동 선택하여 재생하며, 다양한 음악 명령어를 제공합니다.

---

## 📝명령어
- ▶️ **!재생 [유튜브 링크 또는 검색어]** - 유튜브 링크로 음악을 재생하거나 검색 결과에서 자동 선택하여 재생해요.
- ⏹ **!정지** - 재생을 중지하고 봇이 음성 채널에서 퇴장해요. 대기열에 있는 노래들도 전부 삭제돼요.
- ⏯ **!일시정지 / !재개 / !다음** - 현재 재생 중인 음악을 일시 정지하거나 다시 재생하며, 다음 곡으로 넘길 수도 있어요.
- 🎵 **!현재노래** - 현재 재생 중인 음악 정보를 확인할 수 있어요.
- 📜 **!대기열** - 대기열에 있는 음악 목록을 표시해요.
- ❌ **!삭제 [대기열 번호]** - 대기열에서 특정 번호의 음악을 삭제해요.
- 🗑️ **!대기열삭제** - 대기열에 있는 모든 음악을 삭제해요.

---

## 설치 및 실행

1. **필수 사항**  
   - Python 3.8 이상 3.12 이하
   - `discord.py` 및 `google-api-python-client`, `yt_dlp` 등 라이브러리 설치
     ```
     pip install -r requirements.txt
     ```
   - [ffmpeg 설치](https://ffmpeg.org/download.html)

2. **환경 변수 설정**
   - .env 파일을 생성하고, 디스코드 봇 토큰과 YouTube Data API v3 Key 넣기
   ```
   DISCORD_TOKEN = 'YOUR_BOT_TOKEN'
   YOUTUBE_API_KEY = 'YOUR_API_KEY'
   ```

3. **봇 실행**
   ```
   python3 main.py
   ```

---

## tmux를 이용한 실행 (서버에서 백그라운드 실행)
- 서버에서 봇을 실행한 후 터미널을 종료해도 실행되도록 tmux를 사용할 수 있습니다.

1. 새로운 tmux 세션 생성
   ```
   tmux new -s <세션 이름>
   ```

2. 봇 실행
   ```
   python3 main.py
   ```

3. `Ctrl + B`를 누른 후 `D`를 눌러 tmux 세션을 분리

4. 다시 접속할 때
   ```
   tmux attach -t <세션 이름>
   ```

5. 실행 중인 tmux 세션 확인
   ```
   tmux ls
   ```

6. 세션 종료
   ```
   tmux kill-session -t <세션 이름> // 특정 세션 종료
   tmux kill-server // 전체 세션 종료
   ```
